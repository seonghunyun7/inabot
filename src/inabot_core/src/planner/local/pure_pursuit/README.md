Pure Pursuit 알고리즘 개요

Pure Pursuit 알고리즘은 경로를 따라 주행할 때 **목표점(goal point)**을 기준으로 차량의 조향을 제어하는 방식입니다. 기본 흐름은 다음과 같습니다:

차량의 현재 위치 결정

HMMWV나 NavLab과 같은 차량에는 중앙 차량 제어기가 있어 (x, y, heading) 형태로 현재 위치를 제공합니다.

위치는 초기 위치를 기준으로 보고되며, 초기 위치가 글로벌 좌표계의 기준점이 됩니다.

차량과 가장 가까운 경로점 찾기

기하학적 계산에서 목표점은 차량에서 lookahead 거리 내에 있어야 합니다.

lookahead 거리 내에 여러 경로점이 있을 수 있으므로, 차량에서 가장 가까운 경로점을 먼저 찾습니다.

이후 차량 위치에서 lookahead 거리만큼 떨어진 점을 찾기 위해, 가까운 경로점부터 경로를 따라 탐색을 시작합니다.

목표점(goal point) 찾기

목표점은 경로를 따라 이동하면서 차량과의 거리가 lookahead 거리가 되는 점입니다.

경로점 좌표는 글로벌 좌표계에서 기록되어 있으므로, 거리 계산도 글로벌 좌표계에서 수행합니다.

목표점 좌표를 차량 좌표계로 변환

목표점을 찾은 후, 이를 차량 좌표계로 변환합니다.

이유: 곡률(curvature) 계산은 차량 좌표계에서 수행되며, 차량 제어기에 보내는 조향 명령도 차량 좌표계 기준이어야 합니다.

곡률(curvature) 계산

이전 단계에서 도출한 곡률 방정식을 이용해 차량이 따라야 할 곡률을 계산합니다.

이 곡률을 차량 제어기가 이해할 수 있는 스티어링 휠 각도로 변환합니다.

차량 위치 업데이트

시뮬레이션 중에는 명령이 차량의 위치와 방향(heading)에 어떤 영향을 주는지 확인해야 합니다.

즉, 차량의 상태를 업데이트하면서 다음 단계 계산에 활용합니다.

💡 정리:
Pure Pursuit는 “차량 위치 → 가까운 경로점 → lookahead 거리 목표점 → 차량 좌표 변환 → 곡률 계산 → 조향 명령 → 차량 위치 업데이트”의 순서로 동작합니다.